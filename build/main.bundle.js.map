{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/javascript/main.js","webpack:///./menu/menu.class.js","webpack:///./src/modules/toaster/toaster.class.js","webpack:///./src/user/login.class.js","webpack:///./src/user/login/views/loginController.class.js","webpack:///./src/user/user.class.js"],"names":["title","document","getElementById","innerHTML","controller","LoginController","getView","login","Login","Menu","options","active","divider","user","_update","_activate","console","log","userMenu","$","html","userName","dropdownBlock","empty","userMenuOptions","option","item","_makeOption","appendTo","removeClass","hasOwnProperty","addClass","attr","group","Toast","params","backgroundClass","background","duration","message","height","width","cssClass","toaster","css","setTimeout","remove","formListener","submitListener","password","app","on","event","val","length","removeAttr","preventDefault","User","setUserName","setPassword","authenticate","menu","setUser","toast","toastIt","view","get","viewContent"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/javascript/main.js\");\n","/**\r\n * @name main.js\r\n * @desc Point d'entrée principal dans l'application Javascript\r\n */\r\n\r\nimport { Login } from './../../src/user/login.class';\r\nimport { LoginController } from '../../src/user/login/views/loginController.class';\r\n\r\nlet title = document.getElementById('main-title');\r\ntitle.innerHTML = 'Hello Javascript';\r\n\r\n\r\n// @versio 1.0.1 Passage par contrôleur\r\nconst controller = new LoginController();\r\ncontroller.getView();\r\n\r\n// Créer une instance de Login (ici login est un objet construit à partir de la classe Login)\r\n\r\n const login = new Login();\r\n\r\n \r\n","/**\r\n * @name Menu\r\n * @desc Gestion du menu utilisateur\r\n * @author Aélion\r\n * @version 1.0.0\r\n */\r\n\r\n\r\nexport class Menu {\r\n    constructor() {\r\n\r\n        // Tableau d'objets json dont un objet est lui même un tableau d'objets json\r\n        this.options = [\r\n            { title: 'Accueil', active: 'always' },\r\n            { title: 'Toutes les Stories', active: 'isAdmin' },\r\n            { title: 'Mes stories', active: 'always' },\r\n            {\r\n                title: 'Mon compte', active: 'always', options: [\r\n                    { title: 'Mes préférences' },\r\n                    { title: 'Changer de mot de passe' },\r\n                    { divider: true },\r\n                    { title: 'Déconnexion' }\r\n                ]\r\n            }\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Définit l'utilisateur connecté\r\n     * @param {*} user \r\n     **/\r\n\r\n\r\n\r\n    setUser(user) {\r\n        this.user = user;\r\n        // Met à jour le menu Utilisateur\r\n        this._update();\r\n\r\n        // Active ou pas les options\r\n        this._activate();\r\n    }\r\n\r\n    _update() {\r\n        console.log('coucou');\r\n        // Mise à jour de l'option du menu : (userName)\r\n        const userMenu = $('#userMenu');\r\n        userMenu.html(this.user.userName);\r\n\r\n        // On définit les options du menu\r\n        const dropdownBlock = $('#userMenuOptions');\r\n\r\n        // Virer les options existantes\r\n        dropdownBlock.empty();\r\n\r\n        // Recharge les options à partir de la définition\r\n        const userMenuOptions = this.options[3].options;\r\n        for (const option of userMenuOptions) {\r\n            const item = this._makeOption(option);\r\n            item.appendTo(dropdownBlock);\r\n        }\r\n\r\n        // En fin de parcours, on affiche le menu\r\n        dropdownBlock.removeClass('hidden');\r\n    }\r\n\r\n    _makeOption(option) {\r\n        let item = null;\r\n\r\n        if (option.hasOwnProperty('title')) {\r\n            // link logic here\r\n            item = $('<a>');\r\n            item\r\n                .addClass('dropdown-item')\r\n                .attr('href', '#')\r\n                .html(option.title);\r\n            // <a class=\"dropdown-item\" href=\"#\">Action</a>\r\n        } else {\r\n            // divider logic here\r\n            // <div class=\"dropdown-divider\"></div>\r\n            item = $('<div>');\r\n            item\r\n                .addClass('dropdown-divider');\r\n\r\n        }\r\n        return item;\r\n    }\r\n\r\n    _activate() {\r\n        for (let option of this.options) {\r\n            const item = $('[title=\"' + option.title + '\"]');\r\n\r\n            if (option.active === 'always') {\r\n                item.removeClass('disabled');\r\n            } else if (option.active === 'isAdmin' && this.user.group === 'Administrateur') {\r\n                item.removeClass('disabled');\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","/**\r\n * @name Toast\r\n * @desc Affiche un toast (snackbar)\r\n * @author Aélion\r\n * @version 1.0.0\r\n */\r\n\r\n/** \r\nexport class Toast {\r\n    constructor(params) {\r\n        //Objet créé dans login.class avec const toast = new Toast\r\n        // méthode propre aux objets : hasOwnProperty = regarde dans params s'il y a un attribut background\r\n        //S'il ne contient pas l'attribut backgroung (négation avec le !), transmet moi 'danger' sinon transmet ce qu'il y a dans l'objet\r\n        if (!params.hasOwnProperty('background')) {\r\n            //Paramètres de définition de la couleur de fond du toast\r\n            this.backgroundClass = 'danger';\r\n\r\n        } else {\r\n            this.backgroundClass = params.background;\r\n        }\r\n\r\n        if (!params.hasOwnProperty('duration')) {\r\n\r\n\r\n            //Durée d'affichage du toast (en secondes)\r\n            this.duration = 5;\r\n        } else {\r\n            this.duration = params.duration;\r\n\r\n        }\r\n\r\n        if (!params.hasOwnProperty('message')) {\r\n            this.message = 'Default message';\r\n        } else {\r\n            this.message = params.message;\r\n        }\r\n    }\r\n\r\n    setBackground(cssClass) {\r\n        this.backgroundClass = cssClass;\r\n    }\r\n\r\n    setDuration(duration) {\r\n        this.duration = duration;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    toastIt() {\r\n\r\n        //Création en mémoire (avec $) d'un nouvel élément dans le DOM\r\n        const toaster = $('<div>');\r\n\r\n        //On lui ajoute les classes \r\n        toaster\r\n            .addClass('toast')\r\n            .addClass(this.backgroundClass)\r\n            .addClass('animated')\r\n            .addClass('fadeInDownBig')\r\n            .html(this.message);\r\n\r\n        //Ajoute le toaster au document lui-même\r\n\r\n        toaster.appendTo($('body'));\r\n\r\n        //Affichage pendant un certain temps\r\n        setTimeout(\r\n            function () {\r\n                setTimeout(\r\n                    function () {\r\n\r\n                        toaster\r\n\r\n                            .addClass('fadeOutRightBig');\r\n\r\n\r\n                    },\r\n                    (this.duration / 2) * 1000\r\n                );\r\n                toaster.remove();\r\n            },\r\n            //Ici, quand on arrive au bout de l'intervalle de temps\r\n            this.duration * 1000\r\n        );\r\n    }\r\n}\r\n\r\n**/\r\n\r\n\r\n\r\n\r\n\r\nexport class Toast {\r\n    constructor(params) {\r\n        if (!params.hasOwnProperty('background')) {\r\n            // Paramètre de définition de la couleur de fond du toast\r\n            this.backgroundClass = 'danger';\r\n        } else {\r\n            this.backgroundClass = params.background;\r\n        }\r\n\r\n        if (!params.hasOwnProperty('duration')) {\r\n            // Durée d'affichage du toast (en secondes)\r\n            this.duration = 7;\r\n        } else {\r\n            this.duration = params.duration;\r\n        }\r\n\r\n        if (!params.hasOwnProperty('message')) {\r\n            this.message = 'Default message';\r\n        } else {\r\n            this.message = params.message;\r\n        }\r\n\r\n        if (!params.hasOwnProperty('height')) {\r\n            this.height = params.height + 'px';\r\n        } else {\r\n            this.height = '100px';\r\n        }\r\n\r\n        if (!params.hasOwnProperty('width')) {\r\n            this.width = params.width + 'px';\r\n        } else {\r\n            this.width = '200px';\r\n        }\r\n    }\r\n\r\n    setBackground(cssClass) {\r\n        this.backgroundClass = cssClass;\r\n    }\r\n\r\n    setDuration(duration) {\r\n        this.duration = duration;\r\n    }\r\n\r\n    toastIt() {\r\n        // Crée en mémoire un nouvel élément dans le DOM\r\n        const toaster = $('<div>');\r\n\r\n        // On lui ajoute les classes\r\n        toaster\r\n            .addClass('toast')\r\n            .addClass(this.backgroundClass)\r\n            .css('width', this.width)\r\n            .css('height', this.height)\r\n            .html('<p>' + this.message + '</p>');\r\n        \r\n        // Ajoute le toaster au document lui-même\r\n        toaster.appendTo($('body'));\r\n\r\n        // Affiche pendant un certain temps\r\n        setTimeout(\r\n            function() {\r\n                // Ici, quand on arrive au bout de l'intervalle de temps\r\n                toaster.remove();\r\n            },\r\n            this.duration * 1000\r\n        );\r\n    }\r\n}\r\n\r\n","import { User } from './user.class';\r\nimport { Menu } from './../../menu/menu.class';\r\nimport { Toast } from './../modules/toaster/toaster.class';\r\n\r\n\r\n\r\n\r\n\r\nexport class Login {\r\n    constructor() {\r\n        // Modifier le titre du document HTML\r\n        $(document).attr('title', 'Identification');\r\n\r\n        // Modifier le titre de la page\r\n        $('#main-title').html('Identifiez-vous');\r\n\r\n\r\n\r\n        // Définition du listener sur le formulaire\r\n        this.formListener();\r\n        this.submitListener();\r\n    }\r\n\r\n    /**\r\n     * formListener Gestionnaire d'événement sur le formulaire de login\r\n     * @param void\r\n     * @return void\r\n     * **/\r\n\r\n\r\n    formListener() {\r\n        let login = this.login;\r\n        let password = this.password;\r\n\r\n        const app = $('[app]');\r\n\r\n\r\n        //$('#loginForm').on(\r\n        app.on(\r\n            'keyup',\r\n            '#loginForm', //Délégation d'évènement...\r\n            // Callback : fonction appelée si l'événement défini survient\r\n            function (event) {\r\n\r\n                // Définition des attributs\r\n                let login = $('[name=\"loginField\"]');\r\n                let password = $('[name=\"passwordField\"]');\r\n\r\n                // Est-ce que les deux champs sont remplis\r\n                if (\r\n                    password.val() !== '' &&\r\n                    login.val().length >= 5) {\r\n                    // On peut activer le bouton...\r\n                    $('#btnLogin').removeAttr('disabled');\r\n                } else {\r\n                    // Non, ça ne le fait pas tout seul, il faut lui dire\r\n                    $('#btnLogin').attr('disabled', 'disabled');\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    submitListener() {\r\n        // let login = this.login;\r\n        // let password = this.password;\r\n\r\n        const app = $('[app]');\r\n\r\n\r\n        //$('#loginForm').on(\r\n        app.on(\r\n            'submit',\r\n            '#loginForm',\r\n\r\n\r\n            function (event) {\r\n\r\n                // Définition des attributs\r\n                let login = $('[name=\"loginField\"]');\r\n                let password = $('[name=\"passwordField\"]');\r\n\r\n\r\n                event.preventDefault(); // Empêche l'action par défaut...\r\n\r\n                // Instancie un nouvel utilisateur\r\n                const user = new User();\r\n\r\n                // Définit le login et le password de l'utilisateur\r\n                user.setUserName(login.val());\r\n                user.setPassword(password.val());\r\n\r\n                // Gère l'authentification...\r\n                if (user.authenticate() === true) {\r\n                    console.log('Bravo tu peux continuer!!');\r\n                    // Instancie le menu...\r\n                    $(document).attr('title', 'Bienvenue');\r\n                    $('#main-title').html('Bienvenue');\r\n                    const menu = new Menu();\r\n                    menu.setUser(user);\r\n                } else {\r\n                    console.log('Dommage, échec!');\r\n                    // Efface les champs et désactive le bouton\r\n                    login.val('');\r\n                    password.val('');\r\n\r\n                    $('#btnLogin').attr('disabled', 'disabled');\r\n\r\n                    // On peut instancier un toast\r\n                    const toast = new Toast(\r\n                        {\r\n                            message: 'Ce login ou ce mot de passe ne correspond à aucun utilisateur',\r\n                            duration: 10,\r\n                            background: 'warning',\r\n                            width: 200,\r\n                            height: 100\r\n                        }\r\n                    );\r\n                    toast.toastIt();\r\n                }\r\n            }\r\n        );\r\n    }\r\n}\r\n\r\n","/**\r\n * @name LoginController\r\n * @desc Contrôleur pour la gestion du formulaire de Login\r\n * @author Aélion\r\n * @version 1.0.0\r\n */\r\n\r\nexport class LoginController {\r\n    constructor() {\r\n        //Définition de la vue (ce qui est affiché) pour ce contrôleur\r\n        this.view = './src/user/login/views/loginform.view.html';\r\n        console.log('Vue' + this.view);\r\n    }\r\n\r\n    /**\r\n     * Méthode pour récupérer la vue à afficher\r\n     */\r\n    getView() {\r\n        //Récupère le placeholder de mon application\r\n        const app = $('[app]');\r\n\r\n        //console.log('Tente de charger : ' + this.view);\r\n        //Méthode de jquery (get) qui permet d'aller cherche un fichier quelque part et de la retourner dans une fonction (on récupère avec get et si succès, on le récupère dans la fonction)\r\n        // Le contenu du fichier view sera récupéré dans le paramètre viewContent de la fonction\r\n        $.get(\r\n            this.view,\r\n            function (viewContent) {\r\n                app.empty(); //Vide le contenu le cas échéant\r\n                app.html(viewContent);\r\n\r\n                //console.log(viewContent);\r\n            }\r\n        );\r\n    }\r\n\r\n}","/**\r\n * @name User\r\n * @desc Service de gestion des utilisateurs\r\n * @author Aélion\r\n * @version 1.0.0\r\n */\r\n\r\nexport class User {\r\n    constructor() { }\r\n\r\n    /**\r\n     * Définit le username de l'utilisateur\r\n     * @param {*} userName\r\n     */\r\n\r\n    setUserName(userName) {\r\n        this.userName = userName;\r\n        // On prend ce qui a été saisi par l'utilisateur et on la range dans userName\r\n    }\r\n\r\n    /**\r\n     * Définit le mot de passe de l'utilisateur\r\n     * @param {*} password\r\n     */\r\n\r\n    setPassword(password) {\r\n        this.password = password;\r\n    }\r\n\r\n\r\n    /**\r\n     * Identifie l'utilisateur à partir d'un login et d'un mot de passe\r\n     * @return boolean\r\n     */\r\n    authenticate() {\r\n        if (this.userName === 'cbasto' && this.password === 'cbasto') {\r\n            this.group = 'Administrateur';\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}"],"sourceRoot":""}